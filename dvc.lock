schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 8ef59d75b46995631d6145e21bcf334a
      size: 2026
  extract_features:
    cmd: python src/features/extract_features.py
    deps:
    - path: src/features/extract_features.py
      hash: md5
      md5: 2a6f0be289ae9d5bb209795e72aa71c4
      size: 2097
    params:
      params.yaml:
        extract_features.ewma.alpha: 0.4
        extract_features.mini_batch_kmeans.n_clusters: 30
        extract_features.mini_batch_kmeans.n_init: 10
        extract_features.mini_batch_kmeans.random_state: 41
    outs:
    - path: data/processed/features.csv
      hash: md5
      md5: e5bcf9b4a87af7aeaff080906f1771a2
      size: 8385538
    - path: models/mini_batch_kmeans.joblib
      hash: md5
      md5: ca5b952bfe7332e31ed2f19f8dd5e1c7
      size: 141179
    - path: models/scaler.joblib
      hash: md5
      md5: 3a538ffafd17171b5b1965a79f9b4c1e
      size: 951
  feature_processing:
    cmd: python src/features/feature_processing.py
    deps:
    - path: data/processed/features.csv
      hash: md5
      md5: e5bcf9b4a87af7aeaff080906f1771a2
      size: 8385538
    - path: src/features/feature_processing.py
      hash: md5
      md5: 6a5e64e8a2d41617726b3524e055d28f
      size: 938
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: ea49abb36a7e2f08e83e2391e84e4445
      size: 4961396
    - path: data/processed/train.csv
      hash: md5
      md5: b76dd6fa914b77b87bf03ba9b9685ead
      size: 9485153
  train:
    cmd: python src/models/train.py
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: b76dd6fa914b77b87bf03ba9b9685ead
      size: 9485153
    - path: src/models/train.py
      hash: md5
      md5: 7d1715cc042d92f1750992e545f8c42d
      size: 1194
    outs:
    - path: models/model.joblib
      hash: md5
      md5: 592f7ee0821e9a4bba7c4540b1f46da4
      size: 1208
    - path: models/transformer.joblib
      hash: md5
      md5: 4d1a7fde0cc2f2f443f3d78ff4398cc8
      size: 3225
  evaluation:
    cmd: python src/models/evaluation.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: ea49abb36a7e2f08e83e2391e84e4445
      size: 4961396
    - path: data/processed/train.csv
      hash: md5
      md5: b76dd6fa914b77b87bf03ba9b9685ead
      size: 9485153
    - path: models/model.joblib
      hash: md5
      md5: 592f7ee0821e9a4bba7c4540b1f46da4
      size: 1208
    - path: models/transformer.joblib
      hash: md5
      md5: 4d1a7fde0cc2f2f443f3d78ff4398cc8
      size: 3225
    - path: src/models/evaluation.py
      hash: md5
      md5: 076d1bb80d1a4828e3c06317c16f97a0
      size: 2902
    outs:
    - path: run_information.json
      hash: md5
      md5: 990e78b2954fc5a1d5b1534ce4f8786d
      size: 175
  register_model:
    cmd: python src/models/register_model.py
    deps:
    - path: run_information.json
      hash: md5
      md5: 990e78b2954fc5a1d5b1534ce4f8786d
      size: 175
    - path: src/models/register_model.py
      hash: md5
      md5: 272d5c111b932022675d971dd28259d1
      size: 706
